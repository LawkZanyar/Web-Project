<!DOCTYPE html>
<html>
<head>
    <title>Edit User Details</title>
    <link rel="stylesheet" href="style_sheet.css">
</head>
<body>
    <nav>
        <a href="index.html">Home</a>
        <a href="profile.html">Profile</a>
        <a href="admin.html">Admin</a>
        <a href="student.html">Student</a>
        <a href="manager.html">Manager</a>
    </nav>
    <div class="form-container">
        <h1>Edit User Details</h1>
        <form class="form-wrapper" id="edit-form">
            <!-- Fields will be injected here -->
        </form>
    </div>
    <script>
        // Mock user data for demonstration
        const users = [
            { username: "johndoe", name: "John Doe", email: "john@example.com", role: "Student" },
            { username: "janedoe", name: "Jane Doe", email: "jane@example.com", role: "Admin" }
        ];

        // Get username from URL.
        const params = new URLSearchParams(window.location.search);
        const username = params.get('username');
        const user = users.find(u => u.username === username);

        const form = document.getElementById('edit-form');
        if (user) {
            form.innerHTML = `
                <div class="form-group">
                    <label>Name:</label>
                    <input type="text" id="edit-name" value="${user.name}">
                </div>
                <div class="form-group">
                    <label>Email:</label>
                    <input type="email" id="edit-email" value="${user.email}">
                </div>
                <div class="form-group">
                    <label>Role:</label>
                    <input type="text" id="edit-role" value="${user.role}">
                </div>
                <div class="form-group" style="display:flex;gap:16px;">
                    <button type="button" id="save-btn">Save Changes</button>
                    <button type="button" id="delete-btn" style="background:#dc2626;color:#fff;">Delete User</button>
                </div>
            `;
            document.getElementById('save-btn').onclick = function() {
                alert('Changes saved for ' + user.username + '!');
                // Here you would send the updated data to your backend
            };
            document.getElementById('delete-btn').onclick = function() {
                if (confirm('Are you sure you want to delete this user? This action cannot be undone.')) {
                    alert('User "' + user.username + '" has been deleted.');
                    // Here you would send a delete request to your backend
                    window.location.href = 'admin.html';
                }
            };
        } else {
            form.innerHTML = `<div class="form-group"><span style="color:red;">User not found.</span></div>`;
        }
    </script>
</body>
</html>